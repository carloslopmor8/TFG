import{K as V,j as w,T as k,f as u,a as o,u as e,w as c,F as g,o as m,Z as $,i as v,d as b,b as a,t as _,g as h,e as q,k as y,v as U,B,l as S,n as A}from"./app-dbf8dd9a.js";import{_ as D}from"./AuthenticatedLayout-32308bba.js";import{_ as N}from"./Checkbox-a0c1ff22.js";import{_ as d,a as p,b as n}from"./TextInput-e9d15287.js";import{P as j}from"./PrimaryButton-5f95a39d.js";import"./ApplicationLogo-0c41a724.js";const C=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Editar gasto ",-1),F={key:0,class:"bg-red-500 p-4 rounded-lg text-white m-4"},z={class:"text-lg"},I={key:1,class:"bg-green-500 p-4 rounded-lg text-white m-4"},M={class:"text-lg"},T={class:"py-12 bg-gray-300"},E={class:"bg-gray-100 flex items-center justify-center"},O={class:"bg-white rounded-lg shadow-md p-6 w-96"},P={class:"mt-6"},G=["onSubmit"],K={class:"mb-2"},L={class:"mb-2"},Q={class:"mb-2"},Z={class:"mb-2"},H={class:"block my-4"},J={class:"flex items-center"},R=a("span",{class:"ml-2 text-sm text-gray-600"},"Añadir IVA",-1),W={class:"mb-2"},X=["value"],Y=["value"],ee={class:"mb-2"},se={class:"flex items-center justify-end mt-4"},ae={class:"flex items-center justify-end mt-4"},oe=a("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},null,-1),ce={__name:"Update",setup(te){const{proyecto:f,gasto:i}=V().props;w("cambio"),i.anadir_iva==1?i.anadir_iva=!0:i.anadir_iva=!1;const s=k({id:i.id,factura_id:i.id_factura,nombre:i.nombre,observacion:i.observacion,form:"cambio",etiqueta:i.etiqueta,cantidad:i.cantidad,anadir_iva:i.anadir_iva,quien:i.usuarios_id,fecha:new Date(i.created_at).toISOString().substr(0,10)}),x=()=>{s.post(route("proyecto.cantidad.save",{id:i.id}))};return(r,l)=>(m(),u(g,null,[o(e($),{title:"Dashboard"}),o(D,null,{header:c(()=>[C,o(e(v),{href:r.route("proyecto.show",{id:e(f).id}),class:"font-semibold text-gray-600 hover:text-gray-900 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-8 mt-8"},{default:c(()=>[b("Atrás")]),_:1},8,["href"])]),default:c(()=>[r.$page.props.flash.error?(m(),u("div",F,[a("p",z,_(r.$page.props.flash.error),1)])):h("",!0),r.$page.props.flash.success?(m(),u("div",I,[a("p",M,_(r.$page.props.flash.success),1)])):h("",!0),a("div",T,[a("div",E,[a("div",O,[a("div",P,[a("form",{onSubmit:q(x,["prevent"])},[a("div",K,[o(d,{for:"factura_id",value:"Factura ID"}),o(p,{id:"factura_id",type:"text",class:"mt-1 block w-full",modelValue:e(s).factura_id,"onUpdate:modelValue":l[0]||(l[0]=t=>e(s).factura_id=t),autofocus:"",autocomplete:"factura_id"},null,8,["modelValue"]),o(n,{class:"mt-2",message:e(s).errors.factura_id},null,8,["message"])]),a("div",L,[o(d,{for:"nombre",value:"Nombre*"}),o(p,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:e(s).nombre,"onUpdate:modelValue":l[1]||(l[1]=t=>e(s).nombre=t),autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),o(n,{class:"mt-2",message:e(s).errors.nombre},null,8,["message"])]),a("div",Q,[o(d,{for:"observacion",value:"Observacion"}),y(a("textarea",{name:"observacion",id:"observacion",cols:"35",rows:"10","onUpdate:modelValue":l[2]||(l[2]=t=>e(s).observacion=t)},null,512),[[U,e(s).observacion]]),o(n,{class:"mt-2",message:e(s).errors.observacion},null,8,["message"])]),a("div",Z,[o(d,{for:"cantidad",value:"Cantidad*"}),o(p,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:e(s).cantidad,"onUpdate:modelValue":l[3]||(l[3]=t=>e(s).cantidad=t),autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"]),o(n,{class:"mt-2",message:e(s).errors.cantidad},null,8,["message"])]),a("div",H,[a("label",J,[o(N,{name:"anadir_iva",modelValue:e(s).anadir_iva,"onUpdate:modelValue":l[4]||(l[4]=t=>e(s).anadir_iva=t),checked:e(s).anadir_iva},null,8,["modelValue","checked"]),R])]),a("div",W,[o(d,{for:"quien",value:"Quien realiza el movimiento*"}),y(a("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":l[5]||(l[5]=t=>e(s).quien=t),multiple:""},[a("option",{value:e(f).user.id},_(e(f).user.name)+" (Administrador) ",9,X),(m(!0),u(g,null,S(e(f).usuarios,t=>(m(),u("option",{key:t.id,value:t.user.id},_(t.user.name),9,Y))),128))],512),[[B,e(s).quien]]),o(n,{class:"mt-2",message:e(s).errors.quien},null,8,["message"])]),a("div",ee,[o(d,{for:"quien",value:"Fecha del movimiento"}),o(p,{id:"cantidad",type:"date",class:"mt-1 block w-full",modelValue:e(s).fecha,"onUpdate:modelValue":l[6]||(l[6]=t=>e(s).fecha=t),autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"]),o(n,{class:"mt-2",message:e(s).errors.fecha},null,8,["message"])]),a("div",se,[o(j,{class:A(["ml-4",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:c(()=>[b(" Actualizar gasto ")]),_:1},8,["class","disabled"])]),a("div",ae,[o(e(v),{href:r.route("proyecto.gasto.delete",{id:e(i).id}),method:"delete",as:"button",class:"inline-block bg-red-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 transition duration-300 ease-in-out m-4 mt-8"},{default:c(()=>[b(" Borrar Gasto ")]),_:1},8,["href"])])],40,G)])])]),oe])]),_:1})],64))}};export{ce as default};
